{
  "name": "bank_statement_v1",
  "description": "Extract bank statement transactions. Output transactions[] with a posting date, description, an optional normalized merchant, amount, currency, and an optional normalized category.",
  "output": {
    "type": "object",
    "properties": {
      "transactions": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "date": {
              "type": "string",
              "description": "Posting date in YYYY-MM-DD if available; otherwise best-effort date string."
            },
            "description": {
              "type": "string",
              "description": "Original transaction description as it appears on the statement."
            },
            "merchant": {
              "type": "string",
              "description": "Optional normalized merchant name (e.g., 'Amazon', 'United Airlines'). If you cannot confidently extract a real merchant, omit this field."
            },
            "amount": { "type": ["number", "string"] },
            "currency": { "type": "string" },
            "category": {
              "type": "string",
              "description": "Optional normalized category. Prefer one of: income, transfer, payment, fee, atm, interest, refund, other."
            }
          },
          "required": ["date", "amount"]
        }
      }
    },
    "required": ["transactions"]
  }
}


